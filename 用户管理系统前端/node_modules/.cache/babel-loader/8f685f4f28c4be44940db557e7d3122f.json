{"remainingRequest":"D:\\用户管理系统前端\\node_modules\\babel-loader\\lib\\index.js!D:\\用户管理系统前端\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\用户管理系统前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\用户管理系统前端\\src\\components\\UserList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\用户管理系统前端\\src\\components\\UserList.vue","mtime":1677613608953},{"path":"D:\\用户管理系统前端\\babel.config.js","mtime":1612245221000},{"path":"D:\\用户管理系统前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\用户管理系统前端\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\用户管理系统前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\用户管理系统前端\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdVc2VyTGlzdCcsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3Q6IFtdLAogICAgICAvLyDnlKjmiLfliJfooagKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOaAu+iusOW9leaVsAogICAgICBwYWdlOiAxLAogICAgICAvLyDpobXnoIEKICAgICAgbGltaXQ6IDEwLAogICAgICAvLyDmr4/pobXorrDlvZXmlbAKICAgICAgc2VhcmNoT2JqOiB7fSwKICAgICAgLy8g5p+l6K+i5p2h5Lu2CiAgICAgIG11bHRpcGxlU2VsZWN0aW9uOiBbXSwKICAgICAgLy8g5om56YeP5Yig6Zmk6YCJ5Lit55qE6K6w5b2V5YiX6KGoCiAgICAgIGZvcm06IHsKICAgICAgICB1c2VyTmFtZTogJycsCiAgICAgICAgYWdlOiAnJywKICAgICAgICBzZXg6ICcnLAogICAgICAgIHBob25lTnVtOiAnJywKICAgICAgICBhZGRyZXNzOiAnJwogICAgICB9LAogICAgICBub3dGb3JtOiB7CiAgICAgICAgaWQ6ICcnLAogICAgICAgIHVzZXJOYW1lOiAnJywKICAgICAgICBhZ2U6ICcnLAogICAgICAgIHNleDogJycsCiAgICAgICAgcGhvbmVOdW06ICcnLAogICAgICAgIGFkZHJlc3M6ICcnCiAgICAgIH0sCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBlZGl0VmlzaWJsZTogZmFsc2UsCiAgICAgIGZvcm1SdWxlczoge30sCiAgICAgIG11bHRpcGxlU2VsZWN0aW9uOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFVzZXJMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5bnlKjmiLfliJfooajnmoTmlbDmja4KICAgIGFzeW5jIGdldFVzZXJMaXN0KCkgewogICAgICBjb25zdCB7CiAgICAgICAgZGF0YTogcmVzCiAgICAgIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoJy9maW5kUGFnZS8nICsgdGhpcy5wYWdlICsgJy8nICsgdGhpcy5saW1pdCwgdGhpcy5zZWFyY2hPYmopOwogICAgICBpZiAocmVzLnN0YXR1cyAhPT0gMCkgcmV0dXJuIGNvbnNvbGUubG9nKCfnlKjmiLfliJfooajmlbDmja7ojrflj5blpLHotKXvvIEnKTsKICAgICAgdGhpcy5saXN0ID0gcmVzLmRhdGEucmVjb3JkczsKICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmxpc3QpOwogICAgfSwKICAgIGFzeW5jIGRlbEJhdGNoKCkgewogICAgICBpZiAodGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+mAieaLqeimgeWIoOmZpOeahOiusOW9le+8gScpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCBjb25maXJtUmVzdWx0ID0gYXdhaXQgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l6K6w5b2VLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLmNhdGNoKGVyciA9PiBlcnIpOwogICAgICBpZiAoY29uZmlybVJlc3VsdCAhPT0gJ2NvbmZpcm0nKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5pbmZvKCflj5bmtojkuobliKDpmaTvvIEnKTsKICAgICAgdmFyIGlkTGlzdCA9IFtdOwogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgaWRMaXN0LnB1c2goaXRlbS5pZCk7CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZyhpZExpc3QpOwogICAgICBjb25zdCB7CiAgICAgICAgZGF0YTogcmVzCiAgICAgIH0gPSBhd2FpdCB0aGlzLiRodHRwLnB1dCgnL2RlbEJhdGNoJywgaWRMaXN0KTsKICAgICAgaWYgKHJlcy5zdGF0dXMgIT09IDApIHJldHVybiB0aGlzLiRtZXNzYWdlLmluZm8oJ+WIoOmZpOWksei0pe+8gScpOwogICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+WIoOmZpOaIkOWKn++8gScpOwogICAgICB0aGlzLmdldFVzZXJMaXN0KCk7CiAgICB9LAogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHNlbGVjdGlvbikgewogICAgICBjb25zb2xlLmxvZyhzZWxlY3Rpb24pOwogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gc2VsZWN0aW9uOwogICAgfSwKICAgIC8vIOebkeWQrOWvueivneahhuWFs+mXreeahOS6i+S7tgogICAgb25EaWFsb2dDbG9zZWQoKSB7CiAgICAgIC8vIOaLv+WIsCBGb3JtIOe7hOS7tueahOW8leeUqO+8jOiwg+eUqCByZXNldEZpZWxkcyDlh73mlbDvvIzljbPlj6/ph43nva7ooajljZUKICAgICAgdGhpcy4kcmVmcy5teWFkZEZvcm0ucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICBvbkRpYWxvZ1VwZGF0ZUNsb3NlZCgpIHsKICAgICAgdGhpcy4kcmVmcy5teXVwZGF0ZUZvcm0ucmVzZXRGaWVsZHMoKTsKICAgICAgdGhpcy5ub3dGb3JtID0gewogICAgICAgIGlkOiAnJywKICAgICAgICB1c2VyTmFtZTogJycsCiAgICAgICAgYWdlOiAnJywKICAgICAgICBzZXg6ICcnLAogICAgICAgIHBob25lTnVtOiAnJywKICAgICAgICBhZGRyZXNzOiAnJwogICAgICB9OwogICAgfSwKICAgIC8vIOeUqOaIt+eCueWHu+S6hua3u+WKoOaMiemSrgogICAgb25BZGROZXdVc2VyKCkgewogICAgICB0aGlzLiRyZWZzLm15YWRkRm9ybS52YWxpZGF0ZShhc3luYyB2YWxpZCA9PiB7CiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuOwogICAgICAgIC8vIOmcgOimgeaJp+ihjOa3u+WKoOeahOS4muWKoeWkhOeQhgogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRhdGE6IHJlcwogICAgICAgIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoJy9hZGRVc2VyJywgdGhpcy5mb3JtKTsKICAgICAgICBpZiAocmVzLnN0YXR1cyAhPT0gMCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+a3u+WKoOeUqOaIt+Wksei0pe+8gScpOwogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5re75Yqg5oiQ5Yqf77yBJyk7CiAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVVc2VyKCkgewogICAgICB0aGlzLiRyZWZzLm15dXBkYXRlRm9ybS52YWxpZGF0ZShhc3luYyB2YWxpZCA9PiB7CiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuOwogICAgICAgIC8vIOmcgOimgeaJp+ihjOa3u+WKoOeahOS4muWKoeWkhOeQhgogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRhdGE6IHJlcwogICAgICAgIH0gPSBhd2FpdCB0aGlzLiRodHRwLnB1dCgnL3VwZGF0ZVVzZXInLCB0aGlzLm5vd0Zvcm0pOwogICAgICAgIGlmIChyZXMuc3RhdHVzICE9PSAwKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign5L+u5pS555So5oi35aSx6LSl77yBJyk7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv67mlLnmiJDlip/vvIEnKTsKICAgICAgICB0aGlzLmVkaXRWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpOwogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBzYXZlRm9ybShyb3cpIHsKICAgICAgdGhpcy5lZGl0VmlzaWJsZSA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKHJvdy51c2VyTmFtZSk7CiAgICAgIHRoaXMubm93Rm9ybS5pZCA9IHJvdy5pZDsKICAgICAgdGhpcy5ub3dGb3JtLnVzZXJOYW1lID0gcm93LnVzZXJOYW1lOwogICAgICB0aGlzLm5vd0Zvcm0uYWdlID0gcm93LmFnZTsKICAgICAgdGhpcy5ub3dGb3JtLnNleCA9IHJvdy5zZXg7CiAgICAgIHRoaXMubm93Rm9ybS5waG9uZU51bSA9IHJvdy5waG9uZU51bTsKICAgICAgdGhpcy5ub3dGb3JtLmFkZHJlc3MgPSByb3cuYWRkcmVzczsKICAgICAgY29uc29sZS5sb2codGhpcy5ub3dGb3JtKTsKICAgIH0sCiAgICAvLyDngrnlh7vkuobliKDpmaTnmoTpk77mjqUKICAgIGFzeW5jIG9uUmVtb3ZlKGlkKSB7CiAgICAgIC8vIOivoumXrueUqOaIt+aYr+WQpuWIoOmZpAogICAgICBjb25zdCBjb25maXJtUmVzdWx0ID0gYXdhaXQgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l55So5oi3LCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLmNhdGNoKGVyciA9PiBlcnIpOwoKICAgICAgLy8g5Yik5pat5piv5ZCm54K55Ye75LqG56Gu6K6k5oyJ6ZKuCiAgICAgIGlmIChjb25maXJtUmVzdWx0ICE9PSAnY29uZmlybScpIHJldHVybiB0aGlzLiRtZXNzYWdlLmluZm8oJ+WPlua2iOS6huWIoOmZpO+8gScpOwoKICAgICAgLy8g5Y+R6LW36K+35rGC77yM5Yig6Zmk5oyH5a6aIGlkIOeahOaVsOaNrgogICAgICBjb25zdCB7CiAgICAgICAgZGF0YTogcmVzCiAgICAgIH0gPSBhd2FpdCB0aGlzLiRodHRwLmRlbGV0ZSgnL2RlbFVzZXIvJyArIGlkKTsKICAgICAgaWYgKHJlcy5zdGF0dXMgIT09IDApIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfliKDpmaTlpLHotKXvvIEnKTsKICAgICAgLy8g5o+Q56S65Yig6Zmk5oiQ5Yqf77yM5bm25Yi35paw5YiX6KGo5pWw5o2uCiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5oiQ5Yqf77yBJyk7CiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsKICAgIH0sCiAgICAvLyDmr4/pobXorrDlvZXmlbDmlLnlj5jvvIxzaXpl77ya5Zue6LCD5Y+C5pWw77yM6KGo56S65b2T5YmN6YCJ5Lit55qE4oCc5q+P6aG15p2h5pWw4oCdCiAgICBjaGFuZ2VQYWdlU2l6ZShzaXplKSB7CiAgICAgIHRoaXMubGltaXQgPSBzaXplOwogICAgICB0aGlzLmdldFVzZXJMaXN0KCk7CiAgICB9LAogICAgLy8g5pS55Y+Y6aG156CB77yMcGFnZe+8muWbnuiwg+WPguaVsO+8jOihqOekuuW9k+WJjemAieS4reeahOKAnOmhteeggeKAnQogICAgY2hhbmdlQ3VycmVudFBhZ2UocGFnZSkgewogICAgICB0aGlzLnBhZ2UgPSBwYWdlOwogICAgICB0aGlzLmdldFVzZXJMaXN0KCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["name","data","list","total","page","limit","searchObj","multipleSelection","form","userName","age","sex","phoneNum","address","nowForm","id","dialogVisible","editVisible","formRules","created","getUserList","methods","res","$http","post","status","console","log","records","delBatch","length","$message","warning","confirmResult","$confirm","confirmButtonText","cancelButtonText","type","catch","err","info","idList","forEach","item","push","put","handleSelectionChange","selection","onDialogClosed","$refs","myaddForm","resetFields","onDialogUpdateClosed","myupdateForm","onAddNewUser","validate","valid","error","success","updateUser","saveForm","row","onRemove","delete","changePageSize","size","changeCurrentPage"],"sources":["src/components/UserList.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    \r\n    <!--查询表单-->\r\n    <el-card class=\"operate-container\" shadow=\"never\">\r\n      <el-form :inline=\"true\" class=\"demo-form-inline\">\r\n      <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"dialogVisible = true\">新建</el-button>\r\n      <el-button type=\"primary\" icon=\"el-icon-delete\" @click=\"delBatch()\">删除</el-button>&nbsp;\r\n      <el-form-item>\r\n        <el-input v-model=\"searchObj.userName\" placeholder=\"姓名\" /> \r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-select v-model=\"searchObj.sex\" clearable placeholder=\"性别\">\r\n          <el-option value=\"男\" label=\"男\"/>\r\n          <el-option value=\"女\" label=\"女\"/>\r\n        </el-select>\r\n      </el-form-item>\r\n      \r\n      <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"getUserList()\">查询</el-button>\r\n      <el-button type=\"default\" @click=\"resetData()\">清空</el-button>\r\n    </el-form>\r\n    </el-card>\r\n    \r\n    <!-- 表格 -->\r\n    <el-table\r\n      :data=\"list\"\r\n      border\r\n      stripe\r\n      @selection-change=\"handleSelectionChange\">\r\n      <el-table-column type=\"selection\"/>\r\n      <el-table-column prop=\"userName\" label=\"名称\"  />\r\n      <el-table-column prop=\"age\" label=\"年龄\" />\r\n      <el-table-column prop=\"sex\" label=\"性别\"  />\r\n      <el-table-column prop=\"phoneNum\" label=\"联系电话\"  />\r\n      <el-table-column prop=\"address\" label=\"详细地址\" />\r\n      <el-table-column label=\"操作\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-edit\" @click=\"saveForm(scope.row)\">编辑</el-button>\r\n          <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-delete\" @click=\"onRemove(scope.row.id)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 分页组件 -->\r\n    <el-pagination\r\n      :current-page=\"page\"\r\n      :total=\"total\"\r\n      :page-size=\"limit\"\r\n      :page-sizes=\"[5, 20, 50, 100]\"\r\n      style=\"padding: 30px 0; text-align: center;\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      @size-change=\"changePageSize\"\r\n      @current-change=\"changeCurrentPage\"\r\n    />\r\n\r\n    <!-- 添加用户的对话框 -->\r\n    <el-dialog title=\"添加新用户\" :visible.sync=\"dialogVisible\" width=\"50%\" @close=\"onDialogClosed\">\r\n      <!-- 添加用户的表单 -->\r\n      <el-form :model=\"form\" label-width=\"80px\" :rules=\"formRules\" ref=\"myaddForm\">\r\n        <!-- 采集用户的姓名 -->\r\n        <el-form-item label=\"姓名\" prop=\"userName\">\r\n          <el-input v-model=\"form.userName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"年龄\" prop=\"age\">\r\n          <el-input v-model.number=\"form.age\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\" prop=\"sex\">\r\n          <el-input v-model=\"form.sex\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系电话\" prop=\"phoneNum\">\r\n          <el-input v-model=\"form.phoneNum\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"详细地址\" prop=\"address\">\r\n          <el-input v-model=\"form.address\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"onAddNewUser\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 编辑用户的对话框 -->\r\n    <el-dialog title=\"编辑用户\" :visible.sync=\"editVisible\" width=\"30%\" @close=\"onDialogUpdateClosed\">\r\n      <el-form :model=\"nowForm\" label-width=\"80px\" :rules=\"formRules\" ref=\"myupdateForm\">\r\n        <el-form-item label=\"姓名\" prop=\"userName\">\r\n          <el-input v-model=\"nowForm.userName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"年龄\" prop=\"age\">\r\n          <el-input v-model.number=\"nowForm.age\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\" prop=\"sex\">\r\n          <el-input v-model=\"nowForm.sex\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系电话\" prop=\"phoneNum\">\r\n          <el-input v-model=\"nowForm.phoneNum\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"详细地址\" prop=\"address\">\r\n          <el-input v-model=\"nowForm.address\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"updateUser\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'UserList',\r\n  data() {\r\n    return {\r\n      list: [], // 用户列表\r\n      total: 0, // 总记录数\r\n      page: 1, // 页码\r\n      limit: 10, // 每页记录数\r\n      searchObj: {}, // 查询条件\r\n      multipleSelection: [],// 批量删除选中的记录列表\r\n      form: {\r\n        userName: '',\r\n        age: '',\r\n        sex: '',\r\n        phoneNum: '',\r\n        address: ''\r\n      },\r\n      nowForm: {\r\n        id: '',\r\n        userName: '',\r\n        age: '',\r\n        sex: '',\r\n        phoneNum: '',\r\n        address: ''\r\n      },\r\n      dialogVisible: false,\r\n      editVisible:false,\r\n      formRules: {\r\n      },\r\n      multipleSelection: []\r\n    }\r\n  },\r\n  created() {\r\n    this.getUserList()\r\n  },\r\n  methods: {\r\n    // 获取用户列表的数据\r\n    async getUserList() {\r\n      const { data: res } = await this.$http.post('/findPage/'+this.page+'/'+this.limit, this.searchObj)\r\n      if (res.status !== 0) return console.log('用户列表数据获取失败！')\r\n      this.list = res.data.records\r\n      this.total = res.data.total\r\n      console.log(this.list)\r\n    },\r\n    async delBatch() {\r\n      if (this.multipleSelection.length === 0) {\r\n        this.$message.warning('请选择要删除的记录！')\r\n        return\r\n      }\r\n      const confirmResult = await this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).catch(err => err)\r\n\r\n      if(confirmResult !== 'confirm') return this.$message.info('取消了删除！')\r\n\r\n      var idList = []\r\n      this.multipleSelection.forEach(item => {\r\n        idList.push(item.id)\r\n      })\r\n      console.log(idList)\r\n      const { data: res } = await this.$http.put('/delBatch', idList)\r\n      if(res.status !== 0) return this.$message.info('删除失败！')\r\n\r\n      this.$message.info('删除成功！')\r\n      this.getUserList()\r\n    },\r\n    handleSelectionChange(selection) {\r\n      console.log(selection)\r\n      this.multipleSelection = selection\r\n    },\r\n    // 监听对话框关闭的事件\r\n    onDialogClosed() {\r\n      // 拿到 Form 组件的引用，调用 resetFields 函数，即可重置表单\r\n      this.$refs.myaddForm.resetFields()\r\n    },\r\n    onDialogUpdateClosed() {\r\n      this.$refs.myupdateForm.resetFields()\r\n      this.nowForm = {\r\n        id: '',\r\n        userName: '',\r\n        age: '',\r\n        sex: '',\r\n        phoneNum: '',\r\n        address: ''\r\n      }\r\n    },\r\n    // 用户点击了添加按钮\r\n    onAddNewUser() {\r\n      this.$refs.myaddForm.validate(async valid => {\r\n        if (!valid) return\r\n        // 需要执行添加的业务处理\r\n        const { data: res } = await this.$http.post('/addUser', this.form)\r\n        if (res.status !== 0) return this.$message.error('添加用户失败！')\r\n        this.$message.success('添加成功！')\r\n        this.dialogVisible = false\r\n        this.getUserList()\r\n      })\r\n    },\r\n    updateUser() {\r\n      this.$refs.myupdateForm.validate(async valid => {\r\n        if (!valid) return\r\n        // 需要执行添加的业务处理\r\n        const { data: res } = await this.$http.put('/updateUser', this.nowForm)\r\n        if (res.status !== 0) return this.$message.error('修改用户失败！')\r\n        this.$message.success('修改成功！')\r\n        this.editVisible = false\r\n        this.getUserList()\r\n      })\r\n    },\r\n    async saveForm(row) {\r\n      this.editVisible = true\r\n      console.log(row.userName)\r\n      this.nowForm.id = row.id\r\n      this.nowForm.userName = row.userName\r\n      this.nowForm.age = row.age\r\n      this.nowForm.sex = row.sex\r\n      this.nowForm.phoneNum = row.phoneNum\r\n      this.nowForm.address = row.address\r\n      console.log(this.nowForm)\r\n    },\r\n    // 点击了删除的链接\r\n    async onRemove(id) {\r\n      // 询问用户是否删除\r\n      const confirmResult = await this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n      }).catch(err => err)\r\n\r\n      // 判断是否点击了确认按钮\r\n      if (confirmResult !== 'confirm') return this.$message.info('取消了删除！')\r\n\r\n      // 发起请求，删除指定 id 的数据\r\n      const { data: res } = await this.$http.delete('/delUser/' + id)\r\n      if (res.status !== 0) return this.$message.error('删除失败！')\r\n      // 提示删除成功，并刷新列表数据\r\n      this.$message.success('删除成功！')\r\n      this.getUserList()\r\n    },\r\n    // 每页记录数改变，size：回调参数，表示当前选中的“每页条数”\r\n    changePageSize(size) {\r\n      this.limit = size\r\n      this.getUserList()\r\n    },\r\n    // 改变页码，page：回调参数，表示当前选中的“页码”\r\n    changeCurrentPage(page) {\r\n      this.page = page\r\n      this.getUserList()\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.el-table {\r\n  margin-top: 15px;\r\n}\r\n</style>\r\n"],"mappings":"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"}]}